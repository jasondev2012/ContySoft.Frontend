<form [formGroup]="registroForm" class="stepsdemo-content">
    <p-card>
        <ng-template pTemplate="title"> Cuenta </ng-template>
        <ng-template pTemplate="subtitle"> Estos datos son para tu cuenta en ContySale </ng-template>
        <ng-template pTemplate="content">
            <div class="grid">
                <div class="col-12 lg:col-6 flex flex-column gap-2">
                    <label for="usuario" class="block text-900 font-medium">Email</label>
                    <span class="p-input-icon-left w-full">
                        <i class="pi pi-at"></i>
                        <input id="usuario" 
                        (blur)="onEmailBlur()"
                        [ngClass]="{                            
                            'ng-invalid ng-dirty': registroForm.get('usuario').invalid && (registroForm.get('usuario').dirty || registroForm.get('usuario').touched)
                        }" formControlName="usuario" type="email" placeholder="Email" pInputText
                            class="w-full ng-invalid ng-dirty p-inputtext-lg">
                    </span>
                    <span class="text-danger" *ngIf="emailEnUso">El email ya se encuentra en uso, por favor, recupere su cuenta o contáctese con el administrador.</span>
                </div>
                <div class="col-12 lg:col-6 flex flex-column gap-2">
                    <label for="password" class="block text-900 font-medium">
                        Contraseña
                        <span style="color: var(--primary-color);" class="pi pi-question-circle"
                            pTooltip="Recuerda que para mantener una seguridad adecuada, la contraseña debe tener al menos 8 dígitos que conformen letras mayúsculas, minúsculas y números."
                            tooltipPosition="right"></span>
                    </label>
                    <span class="p-input-icon-left w-full">
                        <i class="pi pi-eye-slash"></i>
                        <p-password id="password" promptLabel="Ingrese una contraseña" weakLabel="Muy fácil"
                        mediumLabel="Fácil" strongLabel="Dificil" [ngClass]="{
                        'ng-invalid ng-dirty': registroForm.get('password').invalid && (registroForm.get('password').dirty || registroForm.get('password').touched)
                     }" formControlName="password" placeholder="Contraseña" [toggleMask]="true"
                        styleClass="mb-5 w-full p-inputtext-lg" [inputStyleClass]="registroForm.get('password').invalid && 
                                        (registroForm.get('password').dirty || registroForm.get('password').touched) ? 
                                        'ng-invalid ng-dirty p-3 w-full' : 'p-3 w-full'"></p-password>
                    </span>
                    
                </div>
            </div>
        </ng-template>
        <ng-template pTemplate="footer">
            <div class="grid grid-nogutter justify-content-end">
                <p-button label="Siguiente" (onClick)="nextPage()" [disabled]="(!formValid || !emailValido)" icon="pi pi-angle-right" iconPos="right"></p-button>
            </div>
        </ng-template>
    </p-card>
</form>